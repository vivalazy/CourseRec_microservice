<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="author" content=""/>
    <!-- Facebook and Twitter integration -->
    <meta property="og:title" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:description" content=""/>
    <meta name="twitter:title" content=""/>
    <meta name="twitter:image" content=""/>
    <meta name="twitter:url" content=""/>
    <meta name="twitter:card" content=""/>

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet"/>

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css"/>
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/icomoon.css"/>
    <!-- Themify Icons-->
    <link rel="stylesheet" href="css/themify-icons.css"/>
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/bootstrap.css"/>

    <!-- Magnific Popup -->
    <link rel="stylesheet" href="css/magnific-popup.css"/>

    <!-- Owl Carousel  -->
    <link rel="stylesheet" href="css/owl.carousel.min.css"/>
    <link rel="stylesheet" href="css/owl.theme.default.min.css"/>

    <!-- Theme style  -->
    <link rel="stylesheet" href="css/style.css"/>

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

</head>
<body>

<div class="gtco-loader"></div>

<div id="page">


    <div class="page-inner">
        <nav class="gtco-nav" role="navigation">
            <div class="gtco-container">

                <div class="row">
                    <div class="col-sm-4 col-xs-12">
                        <div id="gtco-logo"><a href="/index">智能微课堂 <em>.</em></a></div>
                    </div>
                    <div class="col-xs-8 text-right menu-1">

                        <ul>
                            <div class="tab-content-inner" data-content="login">
                                <form action="/studyRecord" th:object="${userInfo}" th:method="post">
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" value="${id}" th:field="*{userid}" class="form-control" id="username"/>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" class="form-control" value="${pass}"  th:field="*{password}" id="password3"/>
                                        </div>
                                    </div>

                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="submit" name="Login" value="学习记录可视化" class="btn btn-primary"/>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <div class="tab-content-inner" data-content="login">
                                <form action="/review" th:object="${userInfo}" th:method="post">
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" value="${id}" th:field="*{userid}" class="form-control" id="username"/>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" class="form-control" value="${pass}"  th:field="*{password}" id="password3"/>
                                        </div>
                                    </div>

                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="submit" name="Login" value="复习推荐" class="btn btn-primary"/>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!--<li class="has-dropdown">
                                <a href="#">Dropdown</a>
                                <ul class="dropdown">
                                    <li><a href="#">Web Design</a></li>
                                    <li><a href="#">eCommerce</a></li>
                                    <li><a href="#">Branding</a></li>
                                    <li><a href="#">API</a></li>
                                </ul>
                            </li>-->
                            <div class="tab-content-inner" data-content="login">
                                <form action="/prepare" th:object="${userInfo}" th:method="post">
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" value="${id}" th:field="*{userid}" class="form-control" id="username"/>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="hidden" class="form-control" value="${pass}"  th:field="*{password}" id="password3"/>
                                        </div>
                                    </div>

                                    <div class="row form-group">
                                        <div class="col-md-12">
                                            <input type="submit" name="Login" value="预习推荐" class="btn btn-primary"/>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!--	<li><a href="contact.html">联系我们</a></li>
                                <li class="btn-cta"><a href="#"><span>Get started</span></a></li>-->
                        </ul>


                    </div>

                </div>
            </div>
        </nav>

        <header id="gtco-header" class="gtco-cover gtco-cover-sm" role="banner"
                style="background-image: url(images/img_2.jpg)">
            <div class="overlay"></div>
            <div class="gtco-container">
                <div class="row">
                    <div class="col-md-12 col-md-offset-0 text-left">


                        <div class="row row-mt-15em">

                            <div class="col-md-7 mt-text animate-box" data-animate-effect="fadeInUp">
                                <span class="intro-text-small"></span>
                                <h1>学习记录可视化</h1>
                            </div>

                        </div>


                    </div>
                </div>
            </div>
        </header>


    </div>

    <div id="main" style="height:400px; width: 1200px;margin:0px auto"></div>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="js/jquery.waypoints.min.js"></script>
<!-- Carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- countTo -->
<script src="js/jquery.countTo.js"></script>
<!-- Magnific Popup -->
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/magnific-popup-options.js"></script>
<!-- Main -->
<script src="js/main.js"></script>


<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>

<script th:inline="javascript">
    //		    alert("hello!");

    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });
    // 使用
    require
    (
            [
                'echarts',
                'echarts/chart/line',
                'echarts/chart/bar' // 使用柱状图就加载bar模块，按需加载
            ],
            function (ec) {
                //                var names=eval('('+'<?php  echo  $jsoncountry;?>'+')');
                //                var markcoordinate=eval('('+'<?php  echo  $jsonmarkpoint;?>'+')');

                //var names = [{"jid": "HSJVM227", "addtime": "2014/2/11 10:12:28", "score": "0.4"}, {
                  // "jid": "HSJVM200",
                  //"addtime": "2014/2/11 10:18:09",
                  // "score": "1"
              //  },
                  // {"jid": "HSJVM227", "addtime": "2014/2/11 10:21:51", "score": "0.8"}];
                var names=[[${course}]];
                var length = names.length;

                /*var v1_x=markcoordinate[0].v1;
                 var v1_y=markcoordinate[0].v1_score;
                 var v2_x=markcoordinate[0].v2;
                 var v2_y=markcoordinate[0].v2_score;*/
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'));
                var option = {
                    title: {
                        text: 'Study Record',

                    },
                    tooltip: {
                        trigger: 'axis',//这个控制点击横坐标显示全部数据的效果
                        show: true
                    },
                    toolbox: {
                        show: true,
                        feature: {
                            mark: {show: true},
                            dataView: {show: true, readOnly: false},
                            magicType: {show: true, type: ['line', 'bar']},
                            restore: {show: true},
                            saveAsImage: {show: true}
                        }
                    },
                    calculable: false,
                    //设置图例
                    legend: {
                        data: ['Score of video']
                    },
                    xAxis: [
                        {
                            type: 'category',
                            name: 'videoid',
                            boundaryGap: true,
                            data: (function () {//横坐标7个国家名称
                                var res = [];
                                for (var i = 0; i != length; i++) {
                                    res.push(names[i].coursename);
                                }
                                return res;
                            })()

                        },
                        {
                            type: 'category',
                            name: 'addtime',
                            boundaryGap: true,
                            data: (function () {//横坐标7个国家名称
                                var res = [];
                                for (var i = 0; i != length; i++) {
                                    res.push(names[i].score);
                                }
                                return res;
                            })()
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value',
                            name: 'videoScore',
                            axisLabel: {
                                formatter: '{value} 分'
                            },
                        }
                    ],
                    series: [
                        {
                            name: 'videoScore',//名称要与图例的名称对应才能有正确的图例效果出来
                            type: 'line',
                            xAxisIndex: 0,
                            yAxisIndex: 0,
                            data: (function () {//横坐标7个国家名称
                                var res = [];
                                for (var i = 0; i != length; i++) {
                                    res.push(names[i].timestamp);
                                }
                                return res;
                            })(),
                            /*markPoint : {
                             data : [
                             {name: 'v1Score', value:v1_y , xAxis:v1_x, yAxis:v1_y } ,
                             {name: 'v2Score', value: v2_y, xAxis: v2_x, yAxis: v2_y}
                             ]
                             },*/
                            markLine: {
                                data: [
                                    [
                                        {name: 'Unfinished Therehold', value: 50, xAxis: 0, yAxis: 50},      // 当xAxis为类目轴时，数值1会被理解为类目轴的index，通过xAxis:-1|MAXNUMBER可以让线到达grid边缘
                                        {name: '', xAxis: names[length - 1].jid, yAxis: 50},             // 当xAxis为类目轴时，字符串'周三'会被理解为与类目轴的文本进行匹配
                                    ],
                                    [
                                        {name: 'Finished Therehold', value: 70, xAxis: 0, yAxis: 70},     // 当xAxis或yAxis为数值轴时，不管传入是什么，都被理解为数值后做空间位置换算
                                        {name: '', xAxis: names[length - 1].jid, yAxis: 70}
                                    ]
                                ]

                            }
                        }
                    ]
                };


                myChart.setOption(option);


            }
    );
</script>
</body>
</html>

